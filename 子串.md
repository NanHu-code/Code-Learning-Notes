# 子串/子数组问题

## 一、问题类型概述

子串/子数组问题通常要求在一个数组或字符串中找到一个**连续的子段**，满足某种条件（如和等于某值、包含某些字符、最大值最小等）。这类问题常用的方法有：

- 前缀和（Prefix Sum）
- 滑动窗口（Sliding Window）
- 单调队列（Monotonic Queue）
- 哈希表优化查找

---

## 二、题目解析与技巧总结

### 1. 和为 K 的子数组

#### 思路：
- 使用 **前缀和 + 哈希表** 来优化计算。
- 定义 `prefix[i]` 为从 `nums[0]` 到 `nums[i]` 的和。
- 对于每个 `i`，我们要找有多少个 `j < i` 使得：
  \[
  prefix[i] - prefix[j] = k
  \]
  即：
  \[
  prefix[j] = prefix[i] - k
  \]
- 使用哈希表记录每个前缀和出现的次数。

#### 关键点：
- 初始化 `map{0:1}`，表示前缀和为 0 出现一次（即空子数组）。
- 遍历时更新哈希表，同时统计满足条件的 `j` 的数量。

---

### 2. 滑动窗口最大值

#### 思路：
- 使用 **单调队列（Monotonic Queue）** 维护当前窗口中的最大值候选。
- 队列中存储下标，保证队列中的元素是**递减**的。
- 每次移动窗口：
  - 移除超出窗口范围的队首元素
  - 移除队尾小于当前元素的元素
  - 将当前元素加入队尾
  - 队首即为当前窗口的最大值

#### 关键点：
- 队列中存储的是**下标**，方便判断是否越界。
- 时间复杂度 O(n)，每个元素入队出队一次。

---

### 3. 最小覆盖子串

#### 思路：
- 使用 **滑动窗口** 来动态扩展和收缩窗口。
- 维护两个指针 `left` 和 `right`，以及：
  - 一个哈希表记录 `t` 中字符的需求量
  - 一个计数器记录当前满足条件的字符数
- 扩展 `right` 直到窗口包含所有 `t` 的字符，然后收缩 `left` 寻找最小窗口。

#### 关键点：
- 使用 `need` 记录所需字符及数量，`window` 记录当前窗口中的字符数量。
- 当 `valid == len(need)` 时，说明当前窗口满足条件，可以尝试收缩。

---

## 三、技巧对比与适用场景

| 方法 | 适用场景 | 经典例题 |
|------|-----------|-----------|
| 前缀和 + 哈希表 | 子数组和问题、计数问题 | 和为 K 的子数组 |
| 单调队列 | 滑动窗口最大值/最小值 | 滑动窗口最大值 |
| 滑动窗口 + 哈希表 | 最小覆盖子串、最长无重复子串 | 最小覆盖子串 |

---

## 四、总结

子串/子数组问题是面试中非常高频的一类题目，掌握以下几种技巧可以应对大多数情况：

- **前缀和**：适用于连续子数组的和或积的问题。
- **滑动窗口**：适用于寻找满足条件的连续子串，尤其是涉及“最小/最长”的问题。
- **单调队列/栈**：适用于滑动窗口中的最值问题。


