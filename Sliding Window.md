
# ğŸ“ æ»‘åŠ¨çª—å£å­¦ä¹ ç¬”è®°

## ä¸€ã€ä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£ï¼Ÿ

æ»‘åŠ¨çª—å£ï¼ˆSliding Windowï¼‰æ˜¯ä¸€ç§é«˜æ•ˆè§£å†³ **å­ä¸²/å­æ•°ç»„é—®é¢˜** çš„æŠ€å·§ã€‚
å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š

* ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼ˆé€šå¸¸æ˜¯ **å·¦æŒ‡é’ˆ `lk` å’Œå³æŒ‡é’ˆ `rk`**ï¼‰æ ‡è®°ä¸€ä¸ªçª—å£ã€‚
* çª—å£åœ¨éå†è¿‡ç¨‹ä¸­ä¸æ–­ **ç§»åŠ¨/æ‰©å±•/æ”¶ç¼©**ã€‚
* åœ¨çª—å£ä¸­ç»´æŠ¤ä¸€äº›ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¦‚å­—ç¬¦é¢‘æ¬¡ã€å…ƒç´ ä¸ªæ•°ç­‰ï¼‰ã€‚

> ç®€å•æ¥è¯´ï¼š**â€œå›ºå®šæˆ–å¯å˜åŒºé—´ + å¿«é€Ÿç»´æŠ¤åŒºé—´çŠ¶æ€â€**ã€‚

---

## äºŒã€æ»‘åŠ¨çª—å£çš„åº”ç”¨åœºæ™¯

å…¸å‹é—®é¢˜ç‰¹å¾ï¼š

1. **å­—ç¬¦ä¸² / æ•°ç»„**
2. **å­ä¸² / å­æ•°ç»„**ï¼ˆè¿ç»­çš„åŒºé—´ï¼‰
3. æ¶‰åŠç»Ÿè®¡ï¼Œå¦‚ï¼š

   * ä¸é‡å¤å­—ç¬¦
   * å›ºå®šé•¿åº¦çš„å¼‚ä½è¯
   * å’Œä¸º target çš„åŒºé—´
   * æœ€å¤§/æœ€å°çª—å£æ»¡è¶³æŸä¸ªæ¡ä»¶

---

## ä¸‰ã€æ»‘åŠ¨çª—å£çš„ä¸€èˆ¬æ­¥éª¤

1. **åˆå§‹åŒ–**ï¼šå®šä¹‰çª—å£å·¦å³æŒ‡é’ˆã€å“ˆå¸Œè¡¨/æ•°ç»„æ¥å­˜å‚¨çª—å£å†…ä¿¡æ¯ã€‚
2. **æ‰©å±•çª—å£**ï¼šå³æŒ‡é’ˆå‘å³ç§»åŠ¨ï¼ŒåŠ å…¥æ–°å…ƒç´ ã€‚
3. **æ”¶ç¼©çª—å£**ï¼ˆå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼‰ï¼šå·¦æŒ‡é’ˆå³ç§»ï¼Œç§»é™¤æ—§å…ƒç´ ã€‚
4. **æ›´æ–°ç­”æ¡ˆ**ï¼šåœ¨æ¯ä¸€æ­¥åˆ¤æ–­å½“å‰çª—å£æ˜¯å¦ç¬¦åˆé¢˜æ„ï¼Œæ›´æ–°æœ€ä¼˜è§£ã€‚

![æ»‘åŠ¨çª—å£ç¤ºæ„å›¾](image/sliding_window.png)

---

## å››ã€ä¾‹é¢˜è§£æ

### ä¾‹é¢˜1ï¼šæœ€é•¿æ— é‡å¤å­ä¸²

> è¾“å…¥: `"abcabcbb"` â†’ è¾“å‡º: `3`

**æ€è·¯**

* çª—å£ `[lk, rk]` ç»´æŠ¤ä¸€ä¸ªä¸å«é‡å¤å­—ç¬¦çš„å­ä¸²ã€‚
* å½“ `s[rk]` å·²ç»åœ¨çª—å£ä¸­æ—¶ï¼Œç§»åŠ¨å·¦æŒ‡é’ˆç›´åˆ°å»æ‰é‡å¤å­—ç¬¦ã€‚
* æ¯æ¬¡æ›´æ–°æœ€å¤§çª—å£é•¿åº¦ã€‚

**ä»£ç **

```cpp
class Solution {
public:
    int lengthOfLongestSubstring(string s) {
        unordered_set<char> occ;
        int n=s.size();
        int rk=-1,ans=0;
        for(int lk=0;lk<n;++lk){
            if(lk!=0){
                occ.erase(s[lk-1]);  //å·¦æŒ‡é’ˆå¼€å§‹ç§»åŠ¨ï¼Œè¦æŠŠå‰ä¸€ä¸ªä»é›†åˆé‡Œé™¤å»
            }
            while(rk+1<n&&!occ.count(s[rk+1])) {
                occ.insert(s[rk+1]);
                ++rk;
            }
            ans=max(ans,rk-lk+1);  //æ›´æ–°ansï¼Œè¦ä¹ˆä¸å˜è¦ä¹ˆé€‰æ‹©å½“å‰lkåˆ°rkçš„ä½ç½®
        }
        return ans;
    }
};
```

ğŸ‘‰ è¿™é‡Œçš„çª—å£æ˜¯ **åŠ¨æ€å˜åŒ–çš„åŒºé—´**ï¼Œéšæ—¶ä¿è¯æ— é‡å¤ã€‚

---

### ä¾‹é¢˜2ï¼šæ‰¾åˆ°æ‰€æœ‰å¼‚ä½è¯

> è¾“å…¥: `s = "cbaebabacd", p = "abc"` â†’ è¾“å‡º: `[0,6]`

**æ€è·¯**

* çª—å£é•¿åº¦å›ºå®šä¸º `p.size()`ã€‚
* ä½¿ç”¨ **é¢‘æ¬¡ç»Ÿè®¡æ•°ç»„** è®°å½• `s` çš„å½“å‰çª—å£ä¸ `p` çš„å·®å¼‚ã€‚
* å½“å·®å¼‚å€¼ `differ == 0` æ—¶ï¼Œè¯´æ˜æ˜¯å¼‚ä½è¯ã€‚
* çª—å£å³ç§»æ—¶ï¼Œæ›´æ–°é¢‘æ¬¡å·®å¼‚ã€‚

**ä»£ç **

```cpp
class Solution {
public:
    vector<int> findAnagrams(string s, string p) {
        //ç»™pæ’åºï¼Œåœ¨sé‡Œæ‰¾på¯¹åº”çš„æ’åºï¼Œè¾“å‡ºæŒ‡é’ˆæŒ‡çš„ä¸‹æ ‡â€”â€”â€”â€”ä¸‡ä¸€på¾ˆé•¿æ—¶æ•ˆç‡å°±å¾ˆä½
        //æ¢é¢˜è§£çš„ä¼˜åŒ–çª—å£æ–¹æ³•
        int sl=s.size(),pl=p.size();
        //pl>slæ—¶è‚¯å®šä¸å­˜åœ¨å¼‚ä½è¯
        if(sl<pl){
            return vector<int>();
        }

        vector<int> ans;
        vector<int> count(26);
        //è®¡ç®—på½“ä¸­æ¯ä¸ªå­—ç¬¦åœ¨på’Œsé‡Œå‡ºç°çš„ä¸ªæ•°
        for(int i=0;i<pl;++i){
            ++count[s[i]-'a'];  //ç¬¬iä¸ªå­—ç¬¦å‡ºç°ï¼Œå°±åŠ 1
            --count[p[i]-'a'];  //ç¬¬iä¸ªå­—ç¬¦å‡ºç°ï¼Œ-1â€”â€”>å½“count==0æ—¶è¯´æ˜sä¸­æœ‰pçš„å¼‚ä½è¯
        }
        int differ=0;
        for(int j=0;j<26;++j){
            if(count[j]!=0){
                ++differ;     //æ‰€æœ‰çš„count[j]==0ï¼Œè¯´æ˜æ•´ä¸ªçª—å£éƒ½æ˜¯pçš„å¼‚ä½è¯
            }
        }
        if(differ==0){
            ans.emplace_back(0);  //differç»Ÿè®¡çš„å°±æ˜¯çª—å£counté‡Œé¢æœ‰å¤šå°‘ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°ä¸pä¸ä¸€æ ·
        }                           //differ==0äº†æ•´ä¸ªçª—å£éƒ½æ˜¯å¼‚ä½è¯
        
        //æ‰¾ä¸‹æ ‡
        for(int i=0;i<sl-pl;++i){
            //ç§»é™¤çª—å£å·¦ç«¯çš„å­—æ¯
            if(count[s[i]-'a']==1){
                --differ;
            }
            else if(count[s[i]-'a']==0){
                ++differ;
            }
            --count[s[i]-'a'];
            //ç§»é™¤çª—å£å³ç«¯çš„å­—æ¯
            if(count[s[i+pl]-'a']==-1){
                --differ;
            }
            else if(count[s[i+pl]-'a']==0){
                ++differ;
            }
            ++count[s[i+pl]-'a'];
            //åˆ¤æ–­å¼‚ä½è¯
            if(differ==0){
                ans.emplace_back(i+1);
            }
        }
        return ans;
    }
};
```

ğŸ‘‰ è¿™é‡Œçš„çª—å£æ˜¯ **å›ºå®šå¤§å°çš„åŒºé—´**ï¼Œä¸æ–­å¹³ç§»åˆ¤æ–­ã€‚

---

## äº”ã€æ€»ç»“æŠ€å·§

| åœºæ™¯             | çª—å£å¤§å° | å…³é”®æŠ€å·§          |
| -------------- | ---- | ------------- |
| æ— é‡å¤å­ä¸²          | å¯å˜   | é›†åˆ / å“ˆå¸Œè¡¨ï¼ŒåŠ¨æ€ç»´æŠ¤ |
| å¼‚ä½è¯åŒ¹é…          | å›ºå®š   | å­—ç¬¦é¢‘æ¬¡æ•°ç»„ï¼Œå·®åˆ†ç»Ÿè®¡   |
| æœ€å°è¦†ç›–å­ä¸²         | å¯å˜   | é¢‘æ¬¡è®¡æ•° + æ”¶ç¼©çª—å£   |
| å’Œä¸º target çš„å­æ•°ç»„ | å¯å˜   | å‰ç¼€å’Œ / åŒæŒ‡é’ˆ     |

---

## å…­ã€å¸¸è§å¥—è·¯æ€»ç»“

1. **å³æŒ‡é’ˆè´Ÿè´£æ‰©å±•çª—å£**

   * ä¸æ–­æŠŠæ–°å…ƒç´ åŠ è¿›æ¥ã€‚
2. **å·¦æŒ‡é’ˆè´Ÿè´£æ”¶ç¼©çª—å£**

   * å½“çª—å£ä¸åˆæ³•æ—¶ï¼Œç§»åŠ¨å·¦æŒ‡é’ˆç›´åˆ°åˆæ³•ã€‚
3. **æ›´æ–°ç­”æ¡ˆçš„ä½ç½®**

   * æœ€å¤§é•¿åº¦é—®é¢˜ï¼šæ›´æ–°åœ¨æ‰©å±•æ—¶ã€‚
   * æœ€å°é•¿åº¦é—®é¢˜ï¼šæ›´æ–°åœ¨æ”¶ç¼©æ—¶ã€‚
   * å›ºå®šé•¿åº¦é—®é¢˜ï¼šæ¯æ¬¡ç§»åŠ¨æ—¶æ›´æ–°ã€‚

---

âœ… **ä¸€å¥è¯æ€»ç»“**ï¼š
æ»‘åŠ¨çª—å£ = **åŒæŒ‡é’ˆ + åŒºé—´ç»Ÿè®¡ + åŠ¨æ€ç»´æŠ¤**ã€‚
å­¦ä¼šåŒºåˆ† **å›ºå®šçª—å£** å’Œ **å¯å˜çª—å£**ï¼ŒæŒæ¡ â€œæ‰©å±• + æ”¶ç¼©â€ çš„èŠ‚å¥ã€‚





